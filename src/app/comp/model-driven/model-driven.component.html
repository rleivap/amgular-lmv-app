<div class="container">
    <div class="row">
        <div class="col col-7 border border-3 border-primary shadow mt-2 me-2">
            <p class="lead text-primary">Resultado</p>
            <p class="lead text-primary">{{resultado|json}}</p>
            <hr/>
            <div class="row">
                <div class="col col-3 me-2" *ngFor="let f of frutas" >
                    <div class="card shadow m-2">
                        <div class="card-header lead text-primary">
                            fruta:{{f.nombre}} Precio: {{f.precio| currency}}
                        </div>
                    </div>

                </div>
            </div>


        </div>
        <div class="col col-4 border border-3 border-primary shadow mt-2">
            <p class="lead text-primary">Formulario de Frutas Model Driven</p>
            <form [formGroup]="frutaForm" (ngSubmit)="enviar(); frutaForm.reset()">
                
                <div class="form-group">
                    <label class="label text-primary lead">Nombre</label>
                    <input type="text" name="nombre" class="form-control" formControlName="nombre"/>
                    <div *ngIf="!frutaForm.errors && (frutaForm.controls['nombre'].touched || frutaForm.controls['nombre'].dirty)">

                        <div [hidden]="!frutaForm.controls['nombre'].hasError('required')" class="alert alert-danger mt-2">
                            Por favor nombre es obligatorio
                        </div>

                        <div [hidden]="!frutaForm.controls['nombre'].hasError('minlength')" class="alert alert-danger mt-2">
                            El nombre de la fruta debe tener al menos 3 caracteres
                        </div>

                    </div>
                </div>

                <div class="form-group">
                    <label class="label text-primary lead">Precio</label>
                    <input type="text" name="precio" class="form-control" formControlName="precio"/>
                    <div *ngIf="!frutaForm.errors && (frutaForm.controls['precio'].touched || frutaForm.controls['precio'].dirty)">

                        <div [hidden]="!frutaForm.controls['precio'].hasError('required')" class="alert alert-danger mt-2">
                            Por favor precio es obligatorio
                        </div>
                    
                        <div [hidden]="!frutaForm.controls['precio'].hasError('pattern')" class="alert alert-danger mt-2">
                            El precio debe ser numerico y de 3 decimales como maximo.
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <button class="btn btn-dark m-3" [disabled]="!frutaForm.valid">Registrar</button>
                </div>

            </form>
        </div>
    </div>
</div>